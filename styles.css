/* ===== Admin sidebar (mobile) – إصلاح تراكب الطبقات والقص ===== */
@media (max-width: 960px){
  .admin-layout .sidebar{
    position: fixed;
    top: 0; bottom: 0; right: 0;
    width: min(86vw, 360px);
    height: 100dvh;                 /* يمنع قصّ المحتوى في iOS */
    background: var(--card, #fff);
    box-shadow: -18px 0 40px rgba(0,0,0,.12);
    transform: translateX(100%);
    transition: transform .28s ease;
    z-index: 1100;                  /* أعلى من أي قناع/درج آخر */
    overflow-y: auto;               /* تصفح داخل القائمة */
    -webkit-overflow-scrolling: touch;
    pointer-events: none;           /* تتعطل التفاعلات وهي مغلقة */
  }
  .admin-layout .sidebar.open{
    transform: translateX(0);
    pointer-events: auto;           /* تتفعّل التفاعلات عند الفتح */
  }
}

/* القناع الخلفي للقائمة الجانبية */
.side-mask{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35);
  display: none;
  z-index: 1090;                    /* أقل من القائمة نفسها */
}
.side-mask.open{ display: block; }

/* تأكد أن الحاوية لا تقصّ الدرج */
.admin-layout{ overflow: visible; }
