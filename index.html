<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#C33A41" />
  <title>ูุทุนู ุงูุฐูู ุงูุนุฑุจู</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- ููุงุชูุญ Supabase -->
  <script>
    window.SUPABASE_URL  = "https://vwqgglgurrlqtkjbmwyc.supabase.co";
    window.SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ3cWdnbGd1cnJscXRramJtd3ljIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NDUwMTEsImV4cCI6MjA3MzEyMTAxMX0.UkUSDtYwdlyz0DnzCZNvQIcmR_BOsKWrqB6_qA7aCjQ";
  </script>

  <!-- ุฅูุดุงุก ุนููู Supabase ูุจูุฑูุง -->
  <script type="module">
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";
    window.supabase = createClient(window.SUPABASE_URL, window.SUPABASE_ANON);
  </script>

  <!-- ูุฒุงููุฉ ุงููุชุงููุฌ ูุจูุฑูุง ุฌุฏูุง + ุงุณุชุทูุงุน ุญู ุณุฑูุน (3 ุซูุงู) -->
  <script type="module">
    // ูุณุชูุฑุฏ ุงูุฌุณุฑ ุซู ูุนูู ุชุฒุงูู ููุฑู ูุจู ุชุดุบูู ูุงุฌูุฉ ุงููููุน
    import { syncPublicCatalogToLocal } from './supabase-bridge.js';

    // โ ุชุฒุงูู ููุฑู ูู ุชูููุฃ localStorage ูุจู ุฑุณู ุงูุตูุญุฉ
    try {
      await syncPublicCatalogToLocal();
    } catch (e) {
      console.error('Initial catalog sync failed', e);
    }

    // ๐ ุงุณุชุทูุงุน ุญู ุณุฑูุน ูุชูููู ุงูุชุฃุฎูุฑ ูุฃุฏูู ุญุฏ
    const SYNC_INTERVAL_MS = 3000;

    function startPublicInterval() {
      if (window.__SB_PUBLIC_SYNC_TIMER) return;
      window.__SB_PUBLIC_SYNC_TIMER = setInterval(async () => {
        if (document.visibilityState === 'visible') {
          try { await syncPublicCatalogToLocal(); }
          catch (e) { console.error('public sync error', e); }
        }
      }, SYNC_INTERVAL_MS);
    }

    // ูุฒุงููุฉ ููุฑูุฉ ุนูุฏ ุนูุฏุฉ ุงูุชุจููุจ
    window.addEventListener('visibilitychange', async () => {
      if (document.visibilityState === 'visible') {
        try { await syncPublicCatalogToLocal(); } catch {}
      }
    });

    // ุชูุธูู ุงููุคููุช ุนูุฏ ุงูุฅุบูุงู
    window.addEventListener('beforeunload', () => {
      if (window.__SB_PUBLIC_SYNC_TIMER) {
        clearInterval(window.__SB_PUBLIC_SYNC_TIMER);
        window.__SB_PUBLIC_SYNC_TIMER = null;
      }
    });

    // ุงุจุฏุฃ ุงููุคููุช ุงูุขู (ูุง ุญุงุฌุฉ ูุงูุชุธุงุฑ DOMContentLoaded)
    startPublicInterval();
  </script>
</head>

<body class="has-front-sidebar">
  <!-- =============== Navbar =============== -->
  <nav class="navbar">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;gap:12px">
      <!-- ูููู ุงูุดุฑูุท: ุฒุฑ ุงููุงุฆูุฉ + ุงูุงุณู -->
      <div style="display:flex;align-items:center;gap:10px">
        <button class="icon-btn" id="menuBtn" title="ุงููุงุฆูุฉ" aria-controls="frontSidebar" aria-expanded="false" aria-label="ูุชุญ ุงููุงุฆูุฉ">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
        <div class="brand">ูุทุนู ุงูุฐูู ุงูุนุฑุจู</div>
      </div>

      <!-- ูุณุงุฑ ุงูุดุฑูุท: (ุจุญุซ) -->
      <div style="display:flex;align-items:center;gap:10px;direction:ltr">
        <button class="icon-btn" id="searchToggle" title="ุจุญุซ" aria-controls="searchPanel" aria-expanded="false" aria-label="ูุชุญ ุงูุจุญุซ">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="7" stroke-width="2"></circle>
            <path d="M21 21l-4.35-4.35" stroke-width="2"></path>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- ======= Hero ======= -->
  <section id="hero" class="hero-landing" aria-label="ุงูุชุฑุญูุจ">
    <div class="hero-bg" style="background-image:url('resturant.avif')"></div>
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <h1>ุฃุดูู ุงููุฃูููุงุช ุจุฃุฌูุฏ ุงูููููุงุช</h1>
      <p>ุงุณุชูุชุน ุจุชุฌุฑุจุฉ ุทุนุงู ูุง ุชููุณู ูู ุฃุฌูุงุก ุนุงุฆููุฉ ูููุฒุฉ. ููุฏู ููู ุชุดูููุฉ ูุงุณุนุฉ ูู ุงูุฃุทุจุงู ุงููุญููุฉ ูุงูุนุงูููุฉ ุจููุณุฉ ุทูุงุฉ ูุญุชุฑููู.</p>
      <div class="hero-actions">
        <a href="#menu" class="btn btn-primary">ุงุณุชุนุฑุถ ูุงุฆูุชูุง</a>
        <button id="reserveBtn" class="btn btn-white" type="button">ุญุฌุฒ ุทุงููุฉ</button>
      </div>
    </div>
  </section>

  <!-- ======= ุดุฑูุท ุนูุงููู ุงูุฃุตูุงู (ุฃููู) ======= -->
  <section class="cats-bar" aria-label="ุงูุชุตูููุงุช">
    <div class="container">
      <div id="catRibbon" class="h-scroll"></div>
    </div>
  </section>

  <!-- =============== Search Panel (ููุชุญ/ูุบูู) =============== -->
  <section id="searchPanel" class="search-panel" aria-hidden="true" aria-label="ููุญุฉ ุงูุจุญุซ">
    <div class="container">
      <div class="search-panel-row" style="display:flex;align-items:center;gap:12px">
        <div class="search search-lg" style="flex:1">
          <input id="searchInput" placeholder="ุฅุจุญุซ ูู ุงููุงุฆูุฉ..." />
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" width="22" height="22" aria-hidden="true">
            <circle cx="11" cy="11" r="7" stroke-width="2"></circle>
            <path d="M21 21l-4.35-4.35" stroke-width="2"></path>
          </svg>
        </div>
        <button id="searchClose" class="round danger" type="button" title="ุฅุบูุงู ุงูุจุญุซ" aria-label="ุฅุบูุงู ุงูุจุญุซ">&times;</button>
      </div>
    </div>
  </section>

  <!-- =============== Menu Grid =============== -->
  <main id="menu" class="container">
    <div id="itemsGrid" class="grid grid-3"></div>
  </main>

  <!-- ุฃููุงุช ุงูุนูู -->
  <section id="hours" class="container" style="margin:30px auto">
    <div class="card hours-card" style="padding:18px">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px">
        <h2 style="margin:0">ุฃููุงุช ุงูุนูู</h2>
        <span id="openNowBadge" class="badge small">โ</span>
      </div>
      <div id="hoursList" class="hours-list" aria-label="ุฌุฏูู ุฃููุงุช ุงูุนูู"></div>
    </div>
  </section>

  <!-- =============== About/Contact =============== -->
  <section id="about" class="container" style="margin:50px auto">
    <div class="card about-card" style="padding:22px">
      <h2 style="margin-top:0">ูู ูุญู</h2>

      <p>
        ูุทุนู ุงูุฐููุงูุฉ ุชุฃุณุณ ุนุงู 2010 ุจููููู ุฌุฏูุฏ ููุทุนุงู ุงูุฌูุฏ ูู ุฃุฌูุงุก ุนุตุฑูุฉ ููุฑูุญุฉ.
        ูุคูู ุจุฃู ุงูุทุนุงู ุงูุฌูุฏ ูุฌูุน ุงููุงุณ ูุนูุงุ ููุณุนู ูุชูุฏูู ุชุฌุฑุจุฉ ุทุนุงู ุงุณุชุซูุงุฆูุฉ ููู ุถูู ูุฒูุฑูุง.
      </p>

      <p>
        ูุณุชุฎุฏู ูู ูุทุจุฎูุง ุฃูุถู ุงูููููุงุช ุงูุทุงุฒุฌุฉ ูุงููุญููุฉุ ูููุฏูู ุฃุทุจุงููุง ูุณุชูุญุงุฉ ูู ุงููุฃูููุงุช ุงูุนุงูููุฉ
        ูุน ููุณุฉ ูุญููุฉ ููููุฒุฉ. ูุฑูููุง ูู ุงูุทูุงุฉ ุงููุญุชุฑููู ูุนูู ุจุฌุฏ ูุชูุฏูู ุฃุทุจุงู ูุจุชูุฑุฉ ุชูุซูุฑ ุงูุญูุงุณ.
      </p>

      <p>
        ููุชุฎุฑ ุจููููุง ูุฌูุฉ ุงูุนุงุฆูุงุช ูุงูุฃุตุฏูุงุก ููุงุญุชูุงุก ุจุงูููุงุณุจุงุช ุงูุณุนูุฏุฉ ููุถุงุก ุฃููุงุช ููุชุนุฉ
        ูุน ุงูุทุนุงู ุงูุฌูุฏ ูุงูุฎุฏูุฉ ุงูุฑุงููุฉ.
      </p>

      <div class="about-location">
        <h3>ูููุนูุง</h3>
        <div class="about-address">ุงุฏูุจ , ุงูููุฑููุด ุงูุบุฑุจู , ุดุงุฑุน 30 </div>

        <div class="about-social" aria-label="ุฑูุงุจุท ุงูุชูุงุตู">
          <!-- WhatsApp -->
          <a class="wa" href="https://wa.me/966500000000" target="_blank" rel="noopener" aria-label="ูุงุชุณุงุจ">
            <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
          </a>
          <!-- Instagram -->
          <a class="ig" href="https://instagram.com/YOUR_INSTAGRAM" target="_blank" rel="noopener" aria-label="ุฅูุณุชุบุฑุงู">
            <i class="fa-brands fa-instagram" aria-hidden="true"></i>
          </a>
          <!-- TikTok -->
          <a class="tt" href="https://www.tiktok.com/@YOUR_TIKTOK" target="_blank" rel="noopener" aria-label="ุชูู ุชูู">
            <i class="fa-brands fa-tiktok" aria-hidden="true"></i>
          </a>
          <!-- Facebook -->
          <a class="fb" href="https://facebook.com/YOUR_PAGE" target="_blank" rel="noopener" aria-label="ููุณุจูู">
            <i class="fa-brands fa-facebook-f" aria-hidden="true"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- =============== Cart Drawer (ูููู) =============== -->
  <aside class="drawer end" id="cartDrawer" aria-hidden="true">
    <div class="head">
      <strong>ุณูุฉ ุงููุดุชุฑูุงุช</strong>
      <button class="btn btn-ghost" id="closeDrawer" aria-label="ุฅุบูุงู">ุฅุบูุงู</button>
    </div>
    <div class="body" id="cartItems" style="display:flex;flex-direction:column;gap:12px"></div>
    <div class="totals" style="padding:12px 14px;border-top:1px solid #eee">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>ุงูุฅุฌูุงูู: <strong><span id="cartTotal">0</span> ุฑูุงู</strong></div>
        <button id="checkoutBtn" class="btn btn-primary">ุฅุชูุงู ุงูุทูุจ</button>
      </div>
    </div>
  </aside>

  <!-- =============== Global App Modal =============== -->
  <div id="appModal" class="modal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-head">
        <h3 id="appModalTitle">ุฅุดุนุงุฑ</h3>
        <button class="icon-btn" id="appModalClose" aria-label="ุฅุบูุงู">ร</button>
      </div>
      <div class="modal-body" id="appModalBody"></div>
      <div class="modal-actions" id="appModalActions" style="display:flex;gap:8px"></div>
    </div>
  </div>

  <!-- =============== Front Sidebar =============== -->
  <aside class="drawer end" id="frontSidebar" aria-hidden="true">
    <div class="head">
      <strong>ุงููุงุฆูุฉ</strong>
      <button class="btn btn-ghost" id="closeFront">ุฅุบูุงู</button>
    </div>

    <a href="login.html" class="side-brand" id="sideBrandLink">
      <img src="Screenshot 2025-08-15 130115.png" alt="ุดุนุงุฑ ุงููุทุนู" />
      <div class="brand-name">ูุทุนู ุงูุฐูู ุงูุนุฑุจู</div>
    </a>

    <hr class="sep" />

    <!-- ุฑูุงุจุท ุฃุณุงุณูุฉ -->
    <nav class="side-nav primary-links" style="margin-bottom:12px">
      <a href="#hero">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
      <a href="#hours">ุฃููุงุช ุงูุนูู</a>
      <a href="#about">ูุจุฐุฉ ุนูุง</a>
      <a href="https://maps.app.goo.gl/PLACE" target="_blank" rel="noopener noreferrer" aria-label="ูุชุญ ุงููููุน ุนูู ุงูุฎุฑูุทุฉ">ุงููููุน</a>
    </nav>

    <!-- ุฃููููุงุช ุงูุณูุดูุงู -->
    <div class="social" style="margin-bottom:12px">
      <a class="social wa" href="https://wa.me/966500000000" target="_blank" rel="noopener noreferrer" aria-label="ูุงุชุณุงุจ">
        <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
        <span class="sr-only">ูุงุชุณุงุจ</span>
      </a>
      <a class="social ig" href="https://instagram.com/YOUR_INSTAGRAM" target="_blank" rel="noopener noreferrer" aria-label="ุฅูุณุชุบุฑุงู">
        <i class="fa-brands fa-instagram" aria-hidden="true"></i>
        <span class="sr-only">ุฅูุณุชุบุฑุงู</span>
      </a>
      <a class="social fb" href="https://facebook.com/YOUR_PAGE" target="_blank" rel="noopener noreferrer" aria-label="ููุณุจูู">
        <i class="fa-brands fa-facebook" aria-hidden="true"></i>
        <span class="sr-only">ููุณุจูู</span>
      </a>
      <a class="social tt" href="https://www.tiktok.com/@YOUR_TIKTOK" target="_blank" rel="noopener noreferrer" aria-label="ุชูู ุชูู">
        <i class="fa-brands fa-tiktok" aria-hidden="true"></i>
        <span class="sr-only">ุชูู ุชูู</span>
      </a>
    </div>
  </aside>

  <!-- ุฎูููุฉ ู Toast -->
  <div id="backdrop" class="backdrop" aria-hidden="true"></div>
  <div id="appToast" class="toast" role="status" aria-live="polite"></div>

  <!-- ุณูุฑุจุช ุงููููุน -->
  <script src="script.js" defer></script>

  <!-- Floating Cart FAB (ูุน ุงูุฅุฌูุงูู) -->
  <button id="cartFab" class="cart-fab" type="button" aria-label="ุงูุชุญ ุงูุณูุฉ">
    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
      <path d="M7 4h-2l-1 2h2l3.6 7.59-1.35 2.41A2 2 0 0 0 10 18h9v-2h-2.42a.25.25 0 0 1-.22-.37L11 13h6a2 2 0 0 0 1.8-1.1l3-6H7.42L7 4Z" fill="currentColor"/>
    </svg>
    <span class="cart-fab__label"><span id="fabTotal">0</span> ุฑูุงู</span>
    <span id="cartFabCount" class="badge" hidden>0</span>
  </button>

  <!-- ======= Footer ======= -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <!-- 1) ูุตู ุงููุทุนู -->
      <div class="foot-col">
        <h3 class="foot-title">ูุทุนู ุงูุฐููุงูุฉ</h3>
        <p>
          ููุฏูู ููู ุฃูุถู ุชุฌุฑุจุฉ ุทุนุงู ูู ุฃุฌูุงุก ุนุงุฆููุฉ ูููุฒุฉ. ูุณุชุฎุฏู ูููููุงุช ุทุงุฒุฌุฉ
          ููุตูุงุช ูุจุชูุฑุฉ ูุชูุฏูู ุฃุทุจุงู ุชูุงูุณ ุงูุฐูู.
        </p>
      </div>

      <!-- 2) ุฑูุงุจุท ุณุฑูุนุฉ -->
      <div class="foot-col">
        <h3 class="foot-title">ุฑูุงุจุท ุณุฑูุนุฉ</h3>
        <ul class="foot-links">
          <li><a href="index.html">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a></li>
          <li><a href="#menu">ูุงุฆูุฉ ุงูุทุนุงู</a></li>
          <li><a href="#about">ูุจุฐุฉ ุนูุง</a></li>
          <li><a href="#hours">ุฃููุงุช ุงูุนูู</a></li>
        </ul>
      </div>

      <!-- 3) ุงุชุตู ุจูุง -->
      <div class="foot-col">
        <h3 class="foot-title">ุงุชุตู ุจูุง</h3>
        <ul class="foot-contact">
          <li>
            <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
            <span>ุดุงุฑุน 30 , ุงุฏูุจ </span>
          </li>
          <li>
            <i class="fa-solid fa-phone" aria-hidden="true"></i>
            <a href="tel:0112345678" class="ltr">0112345678</a>
          </li>
          <li>
            <i class="fa-solid fa-envelope" aria-hidden="true"></i>
            <a href="mailto:info@althawqa.com" class="ltr">info@althawqa.com</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="footer-copy">
      <div class="container small" style="color: aliceblue;">ยฉ ูุทุนู ุงูุฐููุงูุฉ 2025 โ ุฌููุน ุงูุญููู ูุญููุธุฉ.</div>
    </div>
  </footer>
</body>
</html>
